# 播客脚本互动性改进 (Podcast Script Interaction Improvements)

## 改进概述

针对用户反馈"AI生成脚本时参与者看起来像两个人在读各自的剧本"，我们对播客脚本生成的prompt进行了重大改进，加强了对话的自然性和互动性。

## 主要改进内容

### 1. 新增自然对话指令

在prompt中添加了 `**CRITICAL: NATURAL CONVERSATION AND INTERACTION**` 部分，包含以下关键指令：

#### A. 创建真实对话
- 脚本必须感觉像真人之间的自然对话
- 避免各自朗读独立准备好的声明

#### B. 互相回应和构建
- 每个发言者必须积极回应、构建或反应前一个发言者的内容
- 展现倾听和参与度

#### C. 互动元素
包含以下对话模式：
- **提问和跟进**：发言者互相询问、寻求澄清、表现好奇心
- **同意和分歧**：自然的"是的，完全正确！"或"但是等等，我对此有不同看法..."
- **打断和重叠**：偶尔的"哦，这让我想起..."或"说到这个..."转换
- **情感反应**：对他人观点表达惊讶、兴奋、担忧或幽默
- **个人轶事**：分享讨论引发的相关个人经历或记忆
- **交叉引用**：如"正如[发言者姓名]之前提到的..."或"基于你说的关于..."

#### D. 对话流转指示语
使用以下短语类型：
- "太有趣了！这让我想起..."
- "等等，你能详细说说吗？"
- "我完全不知道！还有什么..."
- "你说得对，另外..."
- "这很有趣，但你考虑过..."
- "哦我的天，真的吗？"
- "我正想说同样的话！"

#### E. 避免讲座模式
- 防止发言者进行长篇大论
- 保持动态的频繁来回交流

#### F. 展现积极倾听
- 包含言语确认，如"嗯嗯"、"对"、"完全正确"或"哇"来展现参与度

## 文件修改列表

### 1. 服务器端Prompt文件
**文件**: `server/assets/prompts/podcast_script_generation.md`
- 添加了完整的自然对话和互动指令部分
- 该文件被 `/api/generate-script` API使用

### 2. 公共Prompt文件
**文件**: `public/prompts/podcast_script_generation.md`
- 同样添加了自然对话和互动指令
- 确保前端和后端使用一致的prompt

## 技术实现

### API集成
脚本生成API (`server/api/generate-script.post.ts`) 会：
1. 从 `server/assets/prompts/podcast_script_generation.md` 加载prompt模板
2. 替换所有模板变量 (如 `{{hostName}}`, `{{guestNames}}` 等)
3. 将增强的prompt发送给LLM生成脚本

### 现有功能保持
- 所有现有的persona选择和语音映射功能保持不变
- 博物馆选择和时间基础逻辑保持不变
- JSON响应格式保持兼容

## 预期效果

通过这些改进，AI生成的脚本应该：

1. **更自然的对话流**：发言者之间真实的来回交流
2. **增强的参与度**：通过提问、反应和跟进显示积极倾听
3. **情感丰富度**：表达惊讶、兴奋、好奇等自然情感
4. **避免独白**：防止长篇大论，保持动态对话
5. **个人化互动**：包含个人轶事和交叉引用

## 后续监控

建议：
1. 测试生成多个脚本样本以验证改进效果
2. 收集用户对新脚本自然度的反馈
3. 根据反馈进一步调整prompt指令
4. 考虑添加更多具体的对话模式示例

## 更新日期
2024年1月 - 初始实现 